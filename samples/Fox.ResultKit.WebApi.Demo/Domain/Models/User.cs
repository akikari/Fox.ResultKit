//==================================================================================================
// User domain model with encapsulated business logic.
// Sealed class implementation for user entity.
//==================================================================================================

namespace Fox.ResultKit.WebApi.Demo.Domain.Models;

//==================================================================================================
/// <summary>
/// User domain model.
/// </summary>
/// <param name="email">User email address.</param>
/// <param name="password">User password.</param>
//==================================================================================================
public class User(string email, string password)
{
    //==============================================================================================
    /// <summary>
    /// User unique identifier.
    /// </summary>
    //==============================================================================================
    public Guid Id { get; } = Guid.NewGuid();

    //==============================================================================================
    /// <summary>
    /// User email address.
    /// </summary>
    //==============================================================================================
    public string Email { get; } = email;

    //==============================================================================================
    /// <summary>
    /// User password.
    /// </summary>
    //==============================================================================================
    public string Password { get; } = password;

    //==============================================================================================
    /// <summary>
    /// Gets whether the user is active.
    /// </summary>
    //==============================================================================================
    public bool IsActive { get; private set; } = true;

    //==============================================================================================
    /// <summary>
    /// User creation timestamp (UTC).
    /// </summary>
    //==============================================================================================
    public DateTime CreatedAt { get; } = DateTime.UtcNow;

    //==============================================================================================
    /// <summary>
    /// Deactivates the user.
    /// </summary>
    //==============================================================================================
    public void Deactivate()
    {
        IsActive = false;
    }

    //==============================================================================================
    /// <summary>
    /// Activates the user.
    /// </summary>
    //==============================================================================================
    public void Activate()
    {
        IsActive = true;
    }
}
